/* @preserve
 *
 * Flexcol.mosaic v1.0.0
 * https://github.com/sunpietro/flexcol-mosaic
 *
 * Copyright 2015 Piotr Nalepa/sunpietro
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/flexcol-mosaic/blob/master/LICENSE
 *
 * Date: 2015-08-06T18:00Z
 */
(function(e,t){"use strict";var n=function(n){var o={columns:3,containerSelector:".flexcol-container",itemSelector:".flexcol-item"},i=.5,c=.25,r,l,s,u,a,h,f,d;for(d in n){if(n.hasOwnProperty(d)){o[d]=n[d]}}h=t.querySelector(o.containerSelector);f=Array.prototype.slice.call(h.querySelectorAll(o.itemSelector));l=function m(){e.clearTimeout(r);o.columns=parseInt(o.columns,10);r=e.setTimeout(s,100)};a=function g(e){o.columns=e;l()};u=function y(e,t){function n(t,o){if(h.offsetWidth<h.scrollWidth){h.style.height=e+t*o+"px";n(t,o+c)}}n(t,i)};s=function v(){var e=0,t=0,n=0,i=0;h.style.height="auto";f.forEach(function(o){var i=o.getBoundingClientRect();t=i.height>t?i.height:t;n=!n||i.height<n?i.height:n;e+=i.height});i=e/o.columns;h.style.height=i+"px";u(i,n)};e.addEventListener("load",l);e.addEventListener("resize",l);e.addEventListener("orientationchange",l);return{setColumns:a}};e.FlexcolMosaic=n})(window,window.document);